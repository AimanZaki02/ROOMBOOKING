<!DOCTYPE html>
<html lang="en" class="h-100" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <head th:replace="public-head" :: public-head/>
    <link
            href="https://cdn.jsdelivr.net/npm/remixicon@4.0.0/fonts/remixicon.css"
            rel="stylesheet"
    />
    <link rel="stylesheet" type="text/css" href="/css/home.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <title>UPTMVBS</title>

</head>
<body>
<header class="header">
    <nav>
        <div class="nav__bar">
            <div class="logo">
                <a href="#"><img src="/images/UPTMLOGO.png" alt="logo" /></a>
            </div>
            <div class="nav__menu__btn" id="me  nu-btn">
                <i class="ri-menu-line"></i>
            </div>
        </div>
        <ul class="nav__links" id="nav-links">
            <li><a href="#home">Home</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#room">Venue</a></li>
            <li><a href="#explore">Explore</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
        <button sec:authorize="isAnonymous()" class="btn"><a th:href="@{/login}">Login</a></button>
    </nav>
    <div class="section__container header__container" id="home">
        <p>Trustworthy● Caring ● Resilient ● Respected</p>
        <h1>Welcome To <span>UPTM</span> <br />Venue Booking System.</h1>
    </div>
</header>

<section class="section__container booking__container">
    <form action="/" class="booking__form">
        <div class="input__group input__btn">
            <a>Need to book space for your upcoming event or project?</a><button sec:authorize="isAnonymous()" class="btn" ><a th:href="@{/login}">Click Here to Book!</a></button>
        </div>
    </form>
</section>

<section class="section__container about__container" id="about">
    <div class="about__image">
        <img src="/images/UPTMBG.jpeg" alt="about" />
    </div>
    <div class="about__content">
        <p class="section__subheader">About Our System</p>
<!--        <h2 class="section__header">Now more easy!</h2>-->
        <p class="section__description">
            The UPTM Venue Booking System is tailored for the UPTM Community, comprising students, lecturers, and staff.
            We intend to enhance the venue booking system for increased convenience and eliminate redundant booking problems present in the current offline approach.        </p>
        <div class="about__btn">
            <button class="btn">Read More</button>
        </div>
    </div>
</section>

<!-- The action in form should be the URL mapped to the POST method in your Spring Controller -->
<section class="section__container booking__container">
    <h2 class="section__header">Add New Room</h2>
    <form th:action="@{/saveRoom}" method="post" class="booking__form">
    <div class="input__group">
            <label for="code" class="section__description">Room Code:</label>
            <input type="text" id="code" name="code" required maxlength="50" class="input__group input">
        </div>
        <div class="input__group">
            <label for="location" class="section__description">Location:</label>
            <input type="text" id="location" name="location" required maxlength="100" class="input__group input">
        </div>
        <div class="input__group">
            <label for="capacity" class="section__description">Capacity:</label>
            <input type="number" id="capacity" name="capacity" required min="1" class="input__group input">
        </div>
        <div>
            <button type="submit" class="btn">Submit</button>
        </div>
    </form>
</section>

<div class="section__container table-container">
    <div class="table-responsive">
        <table class="table">
            <thead>
            <tr class="table-secondary">
                <th scope="col">ID</th>
                <th scope="col">Code</th>
                <th scope="col">Location</th>
                <th scope="col">Capacity</th>
                <th scope="col">Actions</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="room : ${rooms}">
                <td th:text="${room.id}"></td>
                <td th:text="${room.code}"></td>
                <td th:text="${room.location}"></td>
                <td th:text="${room.capacity}"></td>
                <td>
                    <a th:href="@{/room/edit/{id}(id=${room.id})}" class="btn btn-primary">Edit</a>
                    <a th:href="@{/room/delete/{id}(id=${room.id})}" class="btn btn-danger">Delete</a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>



<section class="section__container form-container">
    <h2 class="section__header">Book a Room</h2>
    <form action="/bookRoom" method="post" class="booking-form">
        <div class="input__group">
            <label for="roomCode" class="section__description">Room Code:</label>
            <select id="roomCode" name="roomCode" required class="input__group input">
                <option value="" disabled selected>Select a room</option>
                <th:block th:each="room : ${rooms}">
                    <option th:value="${room.code}" th:text="${room.code}"></option>
                </th:block>
            </select>
        </div>
        <div class="input__group">
            <label for="bookingDate" class="section__description">Date:</label>
            <input type="date" id="bookingDate" name="bookingDate" required class="input__group input">
        </div>
        <div class="input__group">
            <label for="bookingTime" class="section__description">Time:</label>
            <input type="time" id="bookingTime" name="bookingTime" required class="input__group input">
        </div>
        <div class="input__group">
            <button type="submit" class="btn">Book Now</button>
        </div>
    </form>
</section>

<section class="section__container room__container" id="room">
    <p class="section__subheader">UPTM Venues</p>
    <h2 class="section__header">Exciting and Educational Event Starts Here.</h2>
    <div class="room__grid">
        <div class="room__card">
            <div class="room__card__image">
              <img src="/images/CLASSROOM.jpg" alt="room" />
            </div>
            <div class="room__card__details">
                <h4>Lecture Room</h4>
                <p>
                    Desc here.
                </p>
                <button class="btn">Book Now</button>
            </div>
        </div>
        <div class="room__card">
            <div class="room__card__image">
                <img src="/images/COMPUTERLAB.jpg" alt="room" />
            </div>
            <div class="room__card__details">
                <h4>Computer Lab</h4>
                <p>
                    Desc here.
                </p>
                <button class="btn">Book Now</button>
            </div>
        </div>
        <div class="room__card">
            <div class="room__card__image">
                <img src="/images/CHILDHOODROOM.jpg" alt="room" />
            </div>
            <div class="room__card__details">
                <h4>Childhood Room</h4>
                <p>
                    Desc here.
                </p>
            </div>
        </div>
        <div class="room__card">
            <div class="room__card__image">
                <img src="/images/LIBRARYROOM.jpg" alt="room" />
            </div>
            <div class="room__card__details">
                <h4>Library</h4>
                <p>
                    Desc here.
                </p>
                <button class="btn">Book Now</button>
            </div>
        </div>
        <div class="room__card">
        <div class="room__card__image">
            <img src="/images/MACROOM.jpg" alt="room" />
        </div>
        <div class="room__card__details">
            <h4>Mac Lab</h4>
            <p>
                Desc here.
            </p>
            <button class="btn">Book Now</button>
        </div>
    </div><div class="room__card">
        <div class="room__card__image">
            <img src="/images/MUSICROOM.jpg" alt="room" />
        </div>
        <div class="room__card__details">
            <h4>Music Room</h4>
            <p>
                Desc here.
            </p>
            <button class="btn">Book Now</button>
        </div>
    </div><div class="room__card">
        <div class="room__card__image">
            <img src="/images/STUDIOROOM.jpg" alt="room" />
        </div>
        <div class="room__card__details">
            <h4>Studio</h4>
            <p>
                Desc here.
            </p>
            <button class="btn">Book Now</button>
        </div>
    </div>
        <div class="room__card">
            <div class="room__card__image">
                <img src="/images/SURAUROOM.jpg" alt="room" />
            </div>
            <div class="room__card__details">
                <h4>Surau</h4>
                <p>
                    Desc here.
                </p>
                <button class="btn">Book Now</button>
            </div>
        </div>
        <div class="room__card">
            <div class="room__card__image">
                <img src="/images/FUTSALCOURTROOM.jpg" alt="room" />
            </div>
            <div class="room__card__details">
                <h4>Futsal Court</h4>
                <p>
                    Desc here.
                </p>
                <button class="btn">Book Now</button>
            </div>
        </div>
    </div>
</section>


<section class="explore" id="explore">
    <p class="section__subheader">EXPLORE</p>
    <h2 class="section__header">What's New Today.</h2>
    <div class="explore__bg">
        <div class="explore__content">
            <p class="section__description">10th MAR 2023</p>
            <h4>A New Menu Is Available In Our Hotel.</h4>
            <button class="btn">Continue</button>
        </div>
    </div>
</section>

<footer class="footer" id="contact">
    <div class="section__container footer__container">
        <div class="footer__col">
            <div class="logo">
               <a href="#home"><img src="/images/UPTMLOGO.png" alt="logo" /></a>
            </div>
            <h4>Connect With Us</h4>
            <p class="section__description">
                Jalan 6/91, Taman Shamelin Perkasa, 56100 Cheras, Kuala Lumpur
                General Line: +603 9206 9700
                Tel : +603 92837186 (Marketing)
                >Fax : +603 92810475
                E-mail : marketing@uptm.edu.my
            </p>

        </div>
        </div>
    </div>
    <div class="footer__bar">
        Copyright © University Poly-Tech Malaysia 2024. All rights reserved.
    </div>
</footer>

<script th:inline="javascript">
    /*<![CDATA[*/
    var swalAttribute = /*[[${swal}]]*/ 'none';
    var message = /*[[${message}]]*/ 'default message';
    console.log('Swal attribute:', swalAttribute);
    console.log('Message:', message);

    if (swalAttribute === 'success') {
        Swal.fire({
            title: 'Success!',
            text: message !== 'default message' ? message : 'Action completed successfully!',
            icon: 'success',
            confirmButtonText: 'OK'
        }).then(function(result) {
            if (result.isConfirmed) {
                window.location.href = '/secondindex';
            }
        });
    }
    /*]]>*/
</script>


<script src="https://unpkg.com/scrollreveal"></script>
<script src="/js/secondindex.js"></script>
</body>
</html>